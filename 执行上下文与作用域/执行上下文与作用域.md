## 执行上下文与作用域


&emsp;&emsp;执行上下文在js中是一个重要的概念，它涉及到上下文访问如何访问数据和变量。执行上下文包括全局上下文、函数上下文和eval上下文。每个上下文都有一个关联的变量对象，这个对象在js中虽不可访问，但确实存在。这个对象会关联在此上下文相关的变量、函数。



### 全局上下文
全局上下文是最外层的执行上下文，在不同的宿主环境有不同的对象来表示全局上下文，在浏览器中的是window，在Node环境是Global。在浏览器环境全局使用var声明的变量或函数都可以成为window对象的属性或方法。而const和let却不会，但解析作用域链的效果是一样的。

### 函数上下文
每个函数都有独一无二的上下文，上下文之间的内容互不影响。当上下文为函数时，则其活动对象（arguments）成为表示上下文的变量对象。

### eval上下文
是eval函数实现产生的上下文

### 销毁时机
全局上下文会在全局代码执行完毕或程序退出、浏览器退出的时候上下文才进行销毁。（因为上下文对象在上下文栈的栈底）
当代码执行流执行代某个函数，会将函数上下文拉进上下文栈，函数内的代码执行完毕后出栈并销毁，控制权转交该上一层上下文。
eval上下文暂不讨论

### 什么是作用域
作用域就是代码可可用范围，一般来说函数和变量并不总是可用的，我们通过限定其作用范围，从而提高程序逻辑的局部性，增强程序可靠性，减少命名冲突。作用域分为全局作用域、局部作用域。

全局作用域：最外层函数定义的变量拥有全局作用域，在函数作用域可以访问作用域内部的变量和函数。
局部作用域： 局部作用域一般在固定的代码片段中可以访问到，在局部作用域外是无法访问的。常见的局部作用域，比如函数内部、if、for、swtich、while等块内部。

块级作用域: es5之前是没有款及作用域的概念，从es6开始使用块级作用域，当let，const遇到最近的一对花括号，花括号内部就是let，const变量的块级作用域。花括号可以是函数、while等的花括号，也可以是单独的花括号。